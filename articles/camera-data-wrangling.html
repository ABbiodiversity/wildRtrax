<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="wildRtrax">
<title>Camera data wrangling • wildRtrax</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Camera data wrangling">
<meta property="og:description" content="wildRtrax">
<meta property="og:image" content="https://abbiodiversity.github.io/wildRtrax/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">wildRtrax</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/audio-data-concepts.html">Audio data concepts</a>
    <a class="dropdown-item" href="../articles/apis.html">APIs</a>
    <a class="dropdown-item" href="../articles/acoustic-pre-processing.html">Acoustic pre-processing</a>
    <a class="dropdown-item" href="../articles/acoustic-data-wrangling.html">Acoustic data wrangling</a>
    <a class="dropdown-item" href="../articles/camera-data-wrangling.html">Camera data wrangling</a>
    <a class="dropdown-item" href="../articles/tutorials.html">Tutorials</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <h6 class="dropdown-header" data-toc-skip>wildRtrax 1.2.0</h6>
    <h6 class="dropdown-header" data-toc-skip>wildRtrax 1.1.0</h6>
    <h6 class="dropdown-header" data-toc-skip>wildRtrax 1.0.1</h6>
    <h6 class="dropdown-header" data-toc-skip>wildRtrax 1.0.0</h6>
    <h6 class="dropdown-header" data-toc-skip>wildRtrax 0.1.0</h6>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Camera data wrangling</h1>
            
      
      
      <div class="d-none name"><code>camera-data-wrangling.Rmd</code></div>
    </div>

    
    
<p>The use of camera traps in ecological studies has become increasingly
popular for monitoring wildlife. Managing and analyzing camera trap data
efficiently is important for extracting meaningful and accurate
insights. In this vignette, we will explore how to perform camera data
wrangling, specifically focusing on the ABMI’s <a href="https://portal.wildtrax.ca/home/camera-deployments.html?sensorId=CAM&amp;projectId=205" class="external-link">Ecosystem
Health 2014 data set</a>.</p>
<p>Use the <code><a href="../reference/wt_download_report.html">wt_download_report()</a></code> function to retrieve the
main report for the CAM sensor in the Ecosystem Health 2014 project:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eh14_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wt_download_report.html">wt_download_report</a></span><span class="op">(</span></span>
<span>  project_id <span class="op">=</span> <span class="fl">205</span>, </span>
<span>  sensor_id <span class="op">=</span> <span class="st">"CAM"</span>,</span>
<span>  report <span class="op">=</span> <span class="st">"main"</span>, </span>
<span>  weather_cols <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Evaluate <strong>independent detections</strong> with
<code><a href="../reference/wt_ind_detect.html">wt_ind_detect()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Back to the Ecosystem Health 2014 data.</span></span>
<span></span>
<span><span class="va">eh14_detections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wt_ind_detect.html">wt_ind_detect</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">eh14_raw</span>, </span>
<span>  threshold <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"minutes"</span>,</span>
<span>  remove_human <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  remove_domestic <span class="op">=</span> <span class="cn">TRUE</span> </span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">glimpse</span><span class="op">(</span><span class="va">eh14_detections</span>, width <span class="op">=</span> <span class="fl">75</span><span class="op">)</span> </span></code></pre></div>
<p><strong>313</strong> independent detections in this data set, when
using a threshold of 30 minutes.</p>
<p>The output from <code><a href="../reference/wt_ind_detect.html">wt_ind_detect()</a></code> gave us some useful
information. But we probably need to do additional wrangling for our
data to be in the proper format for certain modeling techniques
(e.g. habitat modeling, occupancy). For example, we want to evaluate the
number of detections in a specified time interval (e.g. daily, weekly,
or monthly), <em>including zeroes</em>.</p>
<div class="section level2">
<h2 id="summarise-your-camera-data">Summarise your camera data<a class="anchor" aria-label="anchor" href="#summarise-your-camera-data"></a>
</h2>
<p>With <code><a href="../reference/wt_summarise_cam.html">wt_summarise_cam()</a></code> you can get:</p>
<ul>
<li>The output from <code><a href="../reference/wt_ind_detect.html">wt_ind_detect()</a></code> (e.g. the object
<code>eh14_detections</code>)</li>
<li>Your raw data (e.g. the object <code>eh14_raw</code>)</li>
<li>The time interval you’re interested in (e.g. weekly)</li>
<li>The variable you’re interested in (e.g. detections,
presence/absence)</li>
<li>The desired output format (‘wide’ or ‘long’)</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A call to `wt_summarise_cam()`:</span></span>
<span></span>
<span><span class="va">eh14_summarised</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wt_summarise_cam.html">wt_summarise_cam</a></span><span class="op">(</span></span>
<span>  <span class="co"># Supply your detection data</span></span>
<span>  detect_data <span class="op">=</span> <span class="va">eh14_detections</span>,</span>
<span>  <span class="co"># Supply your raw image data</span></span>
<span>  raw_data <span class="op">=</span> <span class="va">eh14_raw</span>,</span>
<span>  <span class="co"># Now specify the time interval you're interested in </span></span>
<span>  time_interval <span class="op">=</span> <span class="st">"week"</span>,</span>
<span>  <span class="co"># What variable are you interested in?</span></span>
<span>  variable <span class="op">=</span> <span class="st">"detections"</span>,</span>
<span>  <span class="co"># Your desired output format (wide or long) </span></span>
<span>  output_format <span class="op">=</span> <span class="st">"wide"</span> </span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-ultimate-pipeline">The ultimate pipeline<a class="anchor" aria-label="anchor" href="#the-ultimate-pipeline"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">library</span>(wildRtrax)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">WT_USERNAME =</span> <span class="st">"*****"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>           <span class="at">WT_PASSWORD =</span> <span class="st">"*****"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">wt_auth</span>()</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>projects <span class="ot">&lt;-</span> <span class="fu">wt_get_download_summary</span>(<span class="st">"CAM"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  <span class="fu">filter</span>(project <span class="sc">==</span> <span class="st">"ABMI Ecosystem Health 2014"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  <span class="fu">select</span>(project_id) <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>raw_data <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(<span class="at">.x =</span> projects, </span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>                    <span class="at">.f =</span> <span class="sc">~</span><span class="fu">wt_download_report</span>(.x, <span class="st">"CAM"</span>, <span class="at">weather_cols =</span> F, <span class="at">reports =</span> <span class="st">"main"</span>)</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>summarised <span class="ot">&lt;-</span> <span class="fu">wt_ind_detect</span>(raw_data, <span class="dv">30</span>, <span class="st">"minutes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>  <span class="fu">wt_summarise_cam</span>(raw_data, <span class="st">"day"</span>, <span class="st">"detections"</span>, <span class="st">"long"</span>)</span></code></pre></div>
<p>And now you can get straight into the science!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alex MacPhail, Marcus Becker, Elly Knight.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
